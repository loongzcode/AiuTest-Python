{"uid":"2f4b503ada56e9f4","name":"AIU下级转上级","fullName":"testcase.test_runner.TestLogin#test_login","historyId":"64be92ce7b4d1c4c286565c0a7db11f3","time":{"start":1740308041305,"stop":1740308041473,"duration":168},"status":"failed","statusMessage":"AssertionError","statusTrace":"self = <test_runner.TestLogin object at 0x1147e7bc0>\ncase = {'id': 29, 'feature': '资金管理', 'story': '转账成功', 'title': 'AIU下级转上级', ...}\n\n    @pytest.mark.parametrize(\"case\",data)\n    def test_login(self,case):\n    \n        all = self.all\n    \n        # 模板渲染\n        case = eval(Template(str(case)).render(all))\n    \n        # allure 初始化\n        allure_init(case)\n    \n        # 测试用例的描述信息日志\n        logging.info(f\"0.用例ID:{case[\"id\"]} 模块:{case[\"feature\"]} 场景:{case[\"story\"]} 标题:{case[\"title\"]}\")\n    \n        # 解析用例数据\n        request_data = analysis_case(case)\n    \n        # 发送请求\n        res = send_http_request(**request_data)\n    \n        # http断言\n>       http_assert(case, res)\n\ntestcase/test_runner.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncase = {'id': 29, 'feature': '资金管理', 'story': '转账成功', 'title': 'AIU下级转上级', ...}\nres = <Response [200]>\n\n    @allure.step(\"3.HTTP 响应断言\")\n    def http_assert(case, res):\n        if case[\"check\"]:\n            result = jsonpath.jsonpath(res.json(), case[\"check\"])[0]\n            logging.info(f\"3.HTTP响应断言内容: 实际结果({result}) == 预期结果({case[\"expected\"]})\")\n>           assert result == case[\"expected\"]\nE           AssertionError\n\nutils/asserts_utlis.py:11: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"fname","time":{"start":1740307984358,"stop":1740307984358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError","statusTrace":"self = <test_runner.TestLogin object at 0x1147e7bc0>\ncase = {'id': 29, 'feature': '资金管理', 'story': '转账成功', 'title': 'AIU下级转上级', ...}\n\n    @pytest.mark.parametrize(\"case\",data)\n    def test_login(self,case):\n    \n        all = self.all\n    \n        # 模板渲染\n        case = eval(Template(str(case)).render(all))\n    \n        # allure 初始化\n        allure_init(case)\n    \n        # 测试用例的描述信息日志\n        logging.info(f\"0.用例ID:{case[\"id\"]} 模块:{case[\"feature\"]} 场景:{case[\"story\"]} 标题:{case[\"title\"]}\")\n    \n        # 解析用例数据\n        request_data = analysis_case(case)\n    \n        # 发送请求\n        res = send_http_request(**request_data)\n    \n        # http断言\n>       http_assert(case, res)\n\ntestcase/test_runner.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncase = {'id': 29, 'feature': '资金管理', 'story': '转账成功', 'title': 'AIU下级转上级', ...}\nres = <Response [200]>\n\n    @allure.step(\"3.HTTP 响应断言\")\n    def http_assert(case, res):\n        if case[\"check\"]:\n            result = jsonpath.jsonpath(res.json(), case[\"check\"])[0]\n            logging.info(f\"3.HTTP响应断言内容: 实际结果({result}) == 预期结果({case[\"expected\"]})\")\n>           assert result == case[\"expected\"]\nE           AssertionError\n\nutils/asserts_utlis.py:11: AssertionError","steps":[{"name":"1.解析请求数据","time":{"start":1740308041306,"stop":1740308041306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"case","value":"{'id': 29, 'feature': '资金管理', 'story': '转账成功', 'title': 'AIU下级转上级', 'method': 'post', 'path': 'prod-api/system/fundsOper/transfer', 'headers': '{\"Authorization\":\"eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjBjMzBhNjc2LTgzYjgtNGQ2ZC1iN2U4LTExMjQyMDY4MDNhMCJ9.N2aSI3Wvn0Ij-G6zInBJl2zWj8TdF7PJU4SA28AVOvKU5QHDJEpCuB_oAQfhB8JqxSuNXeV3BK0j9Aeoo3F9Kw\"}', 'params': '{\"lang\":\"zh_CN\"}', 'data': None, 'json': '{\"coinType\":\"AIU\",\"myEmail\":\"loong@qq.com\",\"email\":\"loongjjxs@qq.com\",\"validateCode\":\"tU.llmBfMv;YJRVi!&pd7TDyh8bYEU=T\",\"transferAmount\":\"100\",\"googleCode\":\"\"}', 'files': None, 'check': '$.msg', 'expected': 'succeeds', 'sql_check': None, 'sql_expected': None, 'jsonExData': None, 'sqlExData': None, 'is_true': True, None: None}"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"2.发送 HTTP 请求","time":{"start":1740308041307,"stop":1740308041472,"duration":165},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"method","value":"'post'"},{"name":"url","value":"'http://47.130.30.230/prod-api/system/fundsOper/transfer'"},{"name":"params","value":"{'lang': 'zh_CN'}"},{"name":"headers","value":"{'Authorization': 'eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjBjMzBhNjc2LTgzYjgtNGQ2ZC1iN2U4LTExMjQyMDY4MDNhMCJ9.N2aSI3Wvn0Ij-G6zInBJl2zWj8TdF7PJU4SA28AVOvKU5QHDJEpCuB_oAQfhB8JqxSuNXeV3BK0j9Aeoo3F9Kw'}"},{"name":"data","value":"None"},{"name":"json","value":"{'coinType': 'AIU', 'myEmail': 'loong@qq.com', 'email': 'loongjjxs@qq.com', 'validateCode': 'tU.llmBfMv;YJRVi!&pd7TDyh8bYEU=T', 'transferAmount': '100', 'googleCode': ''}"},{"name":"files","value":"None"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"3.HTTP 响应断言","time":{"start":1740308041473,"stop":1740308041473,"duration":0},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/Users/apple/AiuTest-Python/.venv/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/Users/apple/AiuTest-Python/utils/asserts_utlis.py\", line 11, in http_assert\n    assert result == case[\"expected\"]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"case","value":"{'id': 29, 'feature': '资金管理', 'story': '转账成功', 'title': 'AIU下级转上级', 'method': 'post', 'path': 'prod-api/system/fundsOper/transfer', 'headers': '{\"Authorization\":\"eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjBjMzBhNjc2LTgzYjgtNGQ2ZC1iN2U4LTExMjQyMDY4MDNhMCJ9.N2aSI3Wvn0Ij-G6zInBJl2zWj8TdF7PJU4SA28AVOvKU5QHDJEpCuB_oAQfhB8JqxSuNXeV3BK0j9Aeoo3F9Kw\"}', 'params': '{\"lang\":\"zh_CN\"}', 'data': None, 'json': '{\"coinType\":\"AIU\",\"myEmail\":\"loong@qq.com\",\"email\":\"loongjjxs@qq.com\",\"validateCode\":\"tU.llmBfMv;YJRVi!&pd7TDyh8bYEU=T\",\"transferAmount\":\"100\",\"googleCode\":\"\"}', 'files': None, 'check': '$.msg', 'expected': 'succeeds', 'sql_check': None, 'sql_expected': None, 'jsonExData': None, 'sqlExData': None, 'is_true': True, None: None}"},{"name":"res","value":"<Response [200]>"}],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[{"uid":"2bc1a27f3c1fdb6a","name":"log","source":"2bc1a27f3c1fdb6a.txt","type":"text/plain","size":980}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"stepsCount":3,"hasContent":true},"afterStages":[{"name":"fname::0","time":{"start":1740308047932,"stop":1740308047932,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"资金管理"},{"name":"story","value":"转账成功"},{"name":"parentSuite","value":"testcase"},{"name":"suite","value":"test_runner"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"MacBook-Pro.local"},{"name":"thread","value":"60554-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcase.test_runner"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'id': 29, 'feature': '资金管理', 'story': '转账成功', 'title': 'AIU下级转上级', 'method': 'post', 'path': 'prod-api/system/fundsOper/transfer', 'headers': '{\"Authorization\":\"{{TOKEN}}\"}', 'params': '{\"lang\":\"zh_CN\"}', 'data': None, 'json': '{\"coinType\":\"AIU\",\"myEmail\":\"loong@qq.com\",\"email\":\"loongjjxs@qq.com\",\"validateCode\":\"tU.llmBfMv;YJRVi!&pd7TDyh8bYEU=T\",\"transferAmount\":\"100\",\"googleCode\":\"\"}', 'files': None, 'check': '$.msg', 'expected': 'succeeds', 'sql_check': None, 'sql_expected': None, 'jsonExData': None, 'sqlExData': None, 'is_true': True, None: None}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"2f4b503ada56e9f4.json","parameterValues":["{'id': 29, 'feature': '资金管理', 'story': '转账成功', 'title': 'AIU下级转上级', 'method': 'post', 'path': 'prod-api/system/fundsOper/transfer', 'headers': '{\"Authorization\":\"{{TOKEN}}\"}', 'params': '{\"lang\":\"zh_CN\"}', 'data': None, 'json': '{\"coinType\":\"AIU\",\"myEmail\":\"loong@qq.com\",\"email\":\"loongjjxs@qq.com\",\"validateCode\":\"tU.llmBfMv;YJRVi!&pd7TDyh8bYEU=T\",\"transferAmount\":\"100\",\"googleCode\":\"\"}', 'files': None, 'check': '$.msg', 'expected': 'succeeds', 'sql_check': None, 'sql_expected': None, 'jsonExData': None, 'sqlExData': None, 'is_true': True, None: None}"]}